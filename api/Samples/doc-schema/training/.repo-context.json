{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Repository Context Schema",
  "description": "Comprehensive metadata schema for ALX educational repositories and containers",
  "type": "object",
  "required": ["project_identity", "tech_stack", "skill_manifest"],
  "properties": {
    "project_identity": {
      "type": "object",
      "description": "Core project identification and classification",
      "required": ["name", "type", "scope", "description"],
      "properties": {
        "name": {
          "type": "string",
          "description": "Official project/repository name"
        },
        "type": {
          "type": "string",
          "description": "Project classification",
          "enum": ["educational", "curriculum", "exercise", "project", "assessment", "container"]
        },
        "scope": {
          "type": "string",
          "description": "Project scope and learning domain",
          "examples": ["backend", "frontend", "fullstack", "systems", "algorithms", "devops"]
        },
        "is_independent": {
          "type": "boolean",
          "description": "Whether project can be completed independently",
          "default": true
        },
        "version": {
          "type": "string",
          "description": "Current project version",
          "pattern": "^\\d+\\.\\d+\\.\\d+$"
        },
        "related_versions": {
          "type": "array",
          "description": "Related or previous versions",
          "items": {
            "type": "string"
          }
        },
        "description": {
          "type": "string",
          "description": "Comprehensive project description and purpose"
        },
        "curriculum_stage": {
          "type": "string",
          "description": "Stage in curriculum progression",
          "enum": ["foundation", "specialization", "advanced", "capstone"]
        }
      }
    },
    "tech_stack": {
      "type": "object",
      "description": "Technology and tools used in the project",
      "required": ["primary"],
      "properties": {
        "primary": {
          "type": "array",
          "description": "Primary programming languages and frameworks",
          "items": {
            "type": "string"
          },
          "minItems": 1
        },
        "secondary": {
          "type": "array",
          "description": "Supporting technologies and tools",
          "items": {
            "type": "string"
          }
        },
        "key_libraries": {
          "type": "array",
          "description": "Important libraries and dependencies",
          "items": {
            "type": "string"
          }
        },
        "development_tools": {
          "type": "array",
          "description": "Development and build tools",
          "items": {
            "type": "string"
          }
        },
        "testing_frameworks": {
          "type": "array",
          "description": "Testing tools and frameworks used",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "skill_manifest": {
      "type": "object",
      "description": "Skills and competencies developed",
      "required": ["technical"],
      "properties": {
        "technical": {
          "type": "array",
          "description": "Technical skills demonstrated",
          "items": {
            "type": "string"
          },
          "minItems": 1
        },
        "domain": {
          "type": "array",
          "description": "Domain-specific knowledge areas",
          "items": {
            "type": "string"
          }
        },
        "professional": {
          "type": "array",
          "description": "Professional and soft skills developed",
          "items": {
            "type": "string"
          }
        },
        "competency_level": {
          "type": "string",
          "description": "Overall competency level demonstrated",
          "enum": ["beginner", "intermediate", "advanced", "expert"]
        }
      }
    },
    "components": {
      "type": "object",
      "description": "Major components and modules within the project",
      "patternProperties": {
        "^[a-zA-Z][a-zA-Z0-9_-]*$": {
          "type": "object",
          "required": ["type", "path", "description"],
          "properties": {
            "type": {
              "type": "string",
              "description": "Component type",
              "enum": ["module", "library", "service", "interface", "utility", "test", "documentation"]
            },
            "path": {
              "type": "string",
              "description": "Relative path to component"
            },
            "description": {
              "type": "string",
              "description": "Component purpose and functionality"
            },
            "dependencies": {
              "type": "array",
              "description": "Component dependencies",
              "items": {
                "type": "string"
              }
            },
            "interfaces": {
              "type": "array",
              "description": "Public interfaces exposed",
              "items": {
                "type": "string"
              }
            }
          }
        }
      }
    },
    "progression": {
      "type": "object",
      "description": "Learning progression and stages",
      "patternProperties": {
        "^stage_\\d+$": {
          "type": "object",
          "required": ["description", "features"],
          "properties": {
            "description": {
              "type": "string",
              "description": "Stage description and learning goals"
            },
            "tech_stack": {
              "type": "array",
              "description": "Technologies introduced in this stage",
              "items": {
                "type": "string"
              }
            },
            "features": {
              "type": "array",
              "description": "Features and capabilities developed",
              "items": {
                "type": "string"
              }
            },
            "skills": {
              "type": "array",
              "description": "Skills mastered in this stage",
              "items": {
                "type": "string"
              }
            },
            "duration": {
              "type": "string",
              "description": "Estimated time to complete stage"
            }
          }
        }
      }
    },
    "topics": {
      "type": "array",
      "description": "Key topics and concepts covered",
      "items": {
        "type": "string"
      }
    },
    "skillLevel": {
      "type": "string",
      "description": "Target skill level for learners",
      "enum": ["beginner", "intermediate", "advanced", "expert"]
    },
    "projectStructure": {
      "type": "object",
      "description": "High-level project organization",
      "properties": {
        "architecture_pattern": {
          "type": "string",
          "description": "Architectural pattern used",
          "examples": ["MVC", "microservices", "monolithic", "layered", "client-server"]
        },
        "directory_structure": {
          "type": "object",
          "description": "Main directory organization"
        },
        "key_files": {
          "type": "array",
          "description": "Important files and their purposes",
          "items": {
            "type": "object",
            "properties": {
              "path": {"type": "string"},
              "purpose": {"type": "string"}
            }
          }
        }
      }
    },
    "outcomes": {
      "type": "object",
      "description": "Learning outcomes and career preparation",
      "properties": {
        "technicalSkills": {
          "type": "array",
          "description": "Technical skills gained",
          "items": {
            "type": "string"
          }
        },
        "softSkills": {
          "type": "array",
          "description": "Professional and soft skills developed",
          "items": {
            "type": "string"
          }
        },
        "career_preparation": {
          "type": "array",
          "description": "Career readiness aspects",
          "items": {
            "type": "string"
          }
        },
        "certifications": {
          "type": "array",
          "description": "Relevant certifications prepared for",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "prerequisites": {
      "type": "array",
      "description": "Required prior knowledge and skills",
      "items": {
        "type": "string"
      }
    },
    "associatedProjects": {
      "type": "object",
      "description": "Related projects and curriculum connections",
      "properties": {
        "previous": {
          "type": "string",
          "description": "Previous project in sequence"
        },
        "next": {
          "type": "string",
          "description": "Next project in sequence"
        },
        "related": {
          "type": "array",
          "description": "Related parallel projects",
          "items": {
            "type": "string"
          }
        },
        "dependencies": {
          "type": "array",
          "description": "Projects this depends on",
          "items": {
            "type": "string"
          }
        },
        "enables": {
          "type": "array",
          "description": "Projects this enables/prepares for",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "files": {
      "type": "object",
      "description": "Important project files and their locations",
      "properties": {
        "authors_file": {
          "type": "string",
          "description": "Path to authors/contributors file"
        },
        "license_file": {
          "type": "string",
          "description": "Path to license file"
        },
        "readme_file": {
          "type": "string",
          "description": "Path to main README file"
        },
        "requirements_file": {
          "type": "string",
          "description": "Path to dependencies/requirements file"
        },
        "documentation_files": {
          "type": "array",
          "description": "Additional documentation files",
          "items": {
            "type": "string"
          }
        },
        "test_files": {
          "type": "array",
          "description": "Test files and directories",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "assessment": {
      "type": "object",
      "description": "Assessment and evaluation criteria",
      "properties": {
        "evaluation_criteria": {
          "type": "array",
          "description": "Key evaluation criteria",
          "items": {
            "type": "string"
          }
        },
        "deliverables": {
          "type": "array",
          "description": "Required project deliverables",
          "items": {
            "type": "string"
          }
        },
        "grading_rubric": {
          "type": "object",
          "description": "Grading criteria and weights"
        },
        "peer_review": {
          "type": "boolean",
          "description": "Whether peer review is required"
        }
      }
    },
    "metadata": {
      "type": "object",
      "description": "Additional metadata and tracking information",
      "properties": {
        "created_date": {
          "type": "string",
          "format": "date",
          "description": "Project creation date"
        },
        "last_updated": {
          "type": "string",
          "format": "date",
          "description": "Last modification date"
        },
        "contributors": {
          "type": "array",
          "description": "Project contributors",
          "items": {
            "type": "string"
          }
        },
        "tags": {
          "type": "array",
          "description": "Categorization tags",
          "items": {
            "type": "string"
          }
        },
        "difficulty_rating": {
          "type": "integer",
          "description": "Difficulty level (1-10)",
          "minimum": 1,
          "maximum": 10
        },
        "estimated_hours": {
          "type": "integer",
          "description": "Estimated completion time in hours"
        }
      }
    }
  }
}
